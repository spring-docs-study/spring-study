# 스프링 교과서

## 1장 현실 세계의 스프링

------------

### 마이크로서비스 아키텍처로 진화
#### -마이크로서비스란
독립적으로 수행되는 소규모의 시스템들이 명확하고 절대적으로 분리된 인터페이스 정의에 의해 긴밀하게 통신하는 아키텍처 기반의 접근, 구현 방식
간단히 말해 서비스를 작은 단위로 쪼개고, 쪼갠 서비스는 독립적으로 수행되며, 수행되는 서비스끼리 정해 놓은 규칙으로 인터페이스 하나 하나의 대규모 서비스를 제공

#### -프레임워크란
Frame + Work 의 합성어, 일의 구조, 작업구조를 뜻함.
애플리케이션을 구축하는 기능의 집합, 앱을 구축하는데 사용할 수 있는 광범위한 도구와 기능을 제공.
모든 기능을 사용할 필요 없이 만들려는 앱이 요구하는 사항에 맞게 프레임워크 부분을 사용 (올바른 결과를 위한 기능선택과 조립방법을 이해 해야함)

### 프레임워크와 아키텍처 차이
#### 프레임워크 :
가이드라인을 가진다. 개발 범위가 정해져 있다.
다양한 도구들이 지원된다. 개발시간을 줄일 수 있고, 오류를 감소시킨다. 너무 의존하면 개발자의 능력이 떨어질 수 있는 단점이 존재.

#### 아키텍처 :
시스템의 상세 설계를 위한 기본 가이드로 활용된다. 

### 프레임워크의 재사용성
구현된 애플리케이션이 많지 않은 초기에 각 애플리케이션은 고유했고 특정 프로그래밍 언어를 사용하여 원점에서부터 개발

소프트웨어 개발 영역이 확장되고 점점 더 많은 애플리케이션이 시장에 출시되기 시작하면서 많은 애플리케이션의 요구사항이 유사하다는 것을 알 수 있었다.
Ex)
로깅 오류, 경고, 정보메시지는 모든 앱에서 발생
대부분의 애플리케이션은 트랜잭션을 사용하여 데이터 변경 처리
애플리케이션 대부분은 공통으로 발생하는 동일한 취약점에 보호 메커니즘을 사용한다.
애플리케이션 대부분은 유사한 방법으로 상호 통신한다.
애플리케이션 대부분은 캐싱 또는 데이터 압축처럼 성능을 향상하는 데 유사한 메커니즘 사용

### 비즈니스 로직 코드
애플리케이션의 비즈니스 요구 사항을 구현하는 코드를 의미
사용자가 기대한 것을 구현
Ex)
‘특정 링크를 클릭 시 청구서가 생성’ 은 사용자의 기대, 개발자가 애플리케이션 코드부분은 이 기능을 구현하며 이 코드 부분을 비즈니스 로직 코드라 한다.

기능적 관점에서 애플리케이션을 다른 애플리케이션과 구분 짓게 만드는 요소

### 재사용의 효율
자체 개발하지 않고 재사용함으로써 많은 시간과 비용을 절약
다른 앱에서 사용하는 구현체는 이미 검증이 완료된 기능이기 때문에 버그를 불러올 가능성이 낮다
동일한 기능을 이해하는 많은 개발자에게 조언을 구할 수 있기 때문에 커뮤니티 혜택을 볼 수 있다

### 스프링 생태계
스프링 코어
기본 기능을 포함하는 스프링의 기반 부분 중 하나, 스프링 컨텍스트나 스프링 애스펙트, 스프링 표현 언어 등이 있다.
스프링 MVC (모델-뷰-컨트롤러)
HTTP 요청을 처리하는 웹 애플리케이션을 개발할 수 있게 하는 스프링 프레임워크 일부분
스프링 데이터 액세스
스프링의 기본 부분 중 하나로, SQL 데이터베이스에 연결하여 앱 영속성 계층을 구현하는 데 사용할 수 있는 기본 도구를 제공한다.
스프링 테스팅
스프링 애플리케이션 테스트를 작성하는 데 필요한 도구를 담고있다

### 스프링 코어의 이해
스프링 코어는 앱에 통합되는 기본 메커니즘을 제공하는 스프링 프레임워크 일부분
제어역전 원칙을 기반으로 작동
앱의 실행을 제어하는 대신 스프링 프레임워크에 제어권한을 넘긴다
개발자는 구성을 이용하여 앱 로직을 정의하도록 작성된 코드 관리 방법을 프레임워크에 지시한다
제어 역전 (IoC)에서 ＇역전’은 앱이 자체 코드로 실행을 제어하거나 의존성을 사용하지 못하는 대신 프레임워크(의존성)가 앱과 앱의 코드를 제어한다는 의미

### 스프링 데이터 액세스 기능을 사용한 앱 영속성 구현
애플리케이션 대부분에서는 처리하는 데이터를 유지하는 것이 중요하다
데이터베이스는 협업이 기본 주제이다
스프링에서는 많은 경우에 데이터 영속성을 관리하는 데 데이터 액세스 모듈을 사용한다
스프링 데이터 액세스에는 JDBC 사용, 하이버네이트와 같은 객체 관계형 매핑 프레임워크와 통합, 트랜잭션 관리가 포함

### 웹 앱 개발을 위한 스프링 MVC 기능
스프링으로 개발된 가장 일반적인 애플리케이션은 웹 애플리케이션이며, 스프링 생태계 내에서 다양한 방식으로 웹 애플리케이션과 웹 서비스를 작성할 수 있게 하는 많은 도구 세트를 제공
스프링 MVC를 사용하여 오늘날 수많은 애플리케이션에서 흔히 사용되는 표준 자바 서블릿 방식으로 앱을 개발할 수 있다

### 스프링 테스트 기능
스프링 테스트 모듈은 단위 및 통합 테스트를 작성하는데 사용할 수 있는 다양한 도구 세트를 제공

### 스프링 생태계의 프로젝트
스프링 데이터, 시큐리티, 클라우드, 배치, 부트 등의 프로젝트가 있다

### 스프링 데이터로 영속성 기능 확장
스프링 데이터 프로젝트는 최소한의 코드 작성으로 쉽게 데이터베이스에 연결하고 영속성 계층을 사용할 수 있도록 해 주는 스프링 생태계의 한 부분을 구현한다
이 프로젝트는 SQL 및 NoSQL 기술을 모두 활용하며, 데이터 영속성을 이용한 작업방식을 단순화하는 고수준 계층을 생성한다

### Note
스프링 코어 모듈인 스프링 데이터 액세스(Spring Data Access)도 있고, 스프링 데이터라는 스프링 생태계와는 독립적인 프로젝트도 있다
SDA에는 트랜잭션 메커니즘 및 JDBC 도구 등 기본적인 데이터 액세스 구현이 포함되어 있다
스프링 데이터는 데이터베이스 액세스와 개발접근성을 향상시키며, 앱이 다양한 종류의 데이터 소스에 연결할 수 있도록 광범위한 도구 세트를 제공

### 스프링 부트
‘구성보다 관례‘ 개념을 도입한 스프링 생태계의 프로젝트 중 하나
이 개념의 주요 사상은 프레임워크의 모든 구성을 사용자가 직접 설정하는 대신 스프링 부트가 필요에 따라 정의할 수 있는 기본 구성을 제공하는 것
모든 구성을 새로 작성하는 대신 기본 구성에서 시작하여 관례와 다른 부분을 변경하는 것이 더 효율적이다.

### 실제 시나리오에서 스프링
백엔드 앱 개발
백엔드 애플리케이션은 서버측에서 실행되고 데이터를 관리하며 클라이언트 애플리케이션 요청을 처리한다
클라이언트 앱은 백엔드 앱에 사용자 데이터 작업을 요청한다
백엔드앱은 데이터베이스를 사용하여 데이터를 저장하거나 다른 방식으로 다른 백엔드 앱과 통신할 수 있다
자동화 테스트 프레임워크 개발
구현하는 시스템의 종단 간 테스트를 위해 종종 자동화 테스트를 사용
자동화 테스트는 애플리케이션이 예상대로 작동하는지 확인하는데 사용하는 소프트웨어 구현체를 의미
데스크톱 앱 개발
데스크톱 앱은 스프링 IoC 컨테이너를 효과적으로 사용하여 객체 인스턴스를 관리
앱 구현이 깔끔하고 유지보수성 향상
모바일 앱 개발
스프링 프로젝트는 안드로이드용 REST 클라이언트와 보안 API 액세스를 위한 인증 지원 제공

### 프레임워크를 사용하지 말아야 할 때
가능한 한 작은 공간에 특정 기능을 구현해야 한다. 이때 공간은 앱의 파일들이 차지하는 저장소 메모리를 의미
특정 보안 요구 사항으로 오픈 소스 프레임워크를 사용하지 않고 앱에서 맞춤형 코드를 구현해야 한다
프레임워크에서 과도한 맞춤화작업이 필요해서 사용하지 않을 때 보다 더 많은 코드를 작성해야 한다
이미 해당 기능을 제공하는 앱이 있고 프레임워를 사용하도록 변경해도 아무런 이점을 얻을 수 없다

### 프레임워크를 사용하지 말아야 할 때
작게 만들어야 한다
앱을 작게 만들면 앱 초기화 시간을 줄일 수 있다
그렇다고 컨테이너에 배포된 모든 앱에 프레임워크를 사용하지 않는다는 것은 아니다
보안에는 맞춤형 코드가 필요하다
기존의 과도한 맞춤화로 프레임워크가 실용적이지 못하다
프레임워크로 바꾸어도 이점이 없다